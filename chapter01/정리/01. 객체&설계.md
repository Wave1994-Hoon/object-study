# 객체 & 설계
## 소프트웨어 모듈이 가져야하는 세 가지 기능 (클린 소프트웨어) 
```
(1) 요구사항에 맞는 동작
- 모듈의 존재 이유

(2) 변경을 위해 존재
- 생명주기 동안 변경되기 때문에, 간단한 작업만으로도 변경 가능해야함

(3) 코드를 읽는 사람과 의사소통
- 개발지식을 모르는 사람도 읽고 이해가 가능해야 한다.
```

<br>

## V1의 문제점
```
(1) 예상을 빗나가는 코드
- Theater(소극장)에게 책임을 벗아나는 역할이 부여 됨 
- 코드   

    if (audience.getBag().hasInvitation()) {
       Ticket ticket = ticketSeller.getTicketOffice().getTicket();
       audience.getBag().setTicket(ticket);
    }
    
- 소극장이 청중의 가방안에 초대장이 있는지 없는지 열람을 하고 있다.
- 관람객은 소극장의 통제를 받는 수동적인 존재로 설계가 되었다.

(2) 변경에 취약한 코드 (의존성)
- 만약 관람객이 현금이 아닌 신용카드를 들고 있으면 모든 코드가 뒤틀리게 된다.
- 즉 관람객이 가방을 들고 있다는 가정이 바뀌는 순간 의존하고 있는 코드 모두 수정을 해야한다.
```
## V2 개선사항
```
(1) 정확한 역할 및 책임
- Audience 와 TicketSeller는 자신이 가지고 있는 소지품을 스스로 관리함
- 위 두 클래스의 내부를 변경하더라도 Threater는 변경할 필요가 없다.

(2) 캡슐화와 응집도
- 객체 내부의 상태를 캡슐화하고 객체 간에 오직 메시지를 통해서만 상호작용하도록 만듬
    - Theater는 TicketSeller의 내부에 대해서 전혀 알지 못함 
```

## 절차지향과 객체지향
```
(1) 절차 지향
- 프로세스: Theater의 enter 메서드
- 데이터: 그 외 객체
- 프로세스와 데이터를 별도의 모듈에 위치시키는 방식을 절차적 프로그래밍이라 함
- Theater가 그 외 나머지 클래스에 의존하며 해당 클래스 하나로 모든 처리를 함, 그 외 나머지 클래스는 데이터의 역할만 수행

(2) 객체 지향
- 변경에 용이
- 절차지향으로 개발된 구조를 책임의 이동을 통해 개선 
- 각 객체는 자신을 스스로 책임진다.
```